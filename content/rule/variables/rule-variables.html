<div class="clearfix">
    <!--<div class="row">-->
    <!--<div class="row">-->
    <!--<div class="col-md-3 form-group text-right">-->
    <!--<label>Key</label>-->
    <!--</div>-->
    <!--<div class="col-md-8 form-group">-->
    <!--<input required type="text" name="key" class="form-control" ng-model="Variable.Key" />-->
    <!--</div>-->
    <!--<div class="col-md-3 form-group text-right">-->
    <!--<label>Value</label>-->
    <!--</div>-->
    <!--<div class="col-md-8 form-group">-->
    <!--<input required type="text" name="value" class="form-control" ng-model="Variable.Value" />-->
    <!--</div>-->
    <!--<div class="col-md-3 form-group text-right">-->
    <!--<label>Category</label>-->
    <!--</div>-->
    <!--<div class="col-md-8 form-group">-->
    <!--<select name="value" class="form-control" ng-model="Variable.Category">-->
    <!--<option value="Custom">Custom</option>-->
    <!--<option value="InArgument">InArgument</option>-->
    <!--<option value="OutArgument">OutArgument</option>-->
    <!--</select>-->
    <!--</div>-->
    <!--<div class="col-md-3 form-group text-right">-->
    <!--<label>Data type</label>-->
    <!--</div>-->
    <!--<div class="col-md-8 form-group">-->
    <!--<select name="value" class="form-control" ng-model="Variable.DataType">-->
    <!--<option value="string">string</option>-->
    <!--<option value="int">int</option>-->
    <!--<option value="float">float</option>-->
    <!--<option value="boolean">boolean</option>-->
    <!--</select>-->
    <!--</div>-->
    <!--</div>-->
    <!--<div class="row">-->
    <!--<div class="col-md-11 form-group text-right">-->
    <!--<button class="btn btn-primary" type="submit" ng-click="AddNewVariable()">Add</button>-->
    <!--<button class="btn btn-default" ng-click="">Clear</button>-->
    <!--</div>-->
    <!--</div>-->

    <!--</div>-->
    <div class="container">
        <div class="col-md-6 col-sm-6 content-padding-no">
            <div class="inner-heading">Variables <span>in {{selectedRule.ruleName}}</span></div>
        </div>
        <div class="col-md-6 col-sm-6 col-xs-6 text-right content-padding-no">
            <button class="topbar-btn main-btn-small" data-toggle="modal" data-target="#newVariable"><span class="glyphicon glyphicon-plus"></span> New</button>
        </div>
        <table class="table table-striped highlighted-list">
            <thead>
            <tr>
                <th>Variable key
                    <div class="sort-btn-wrap">
                        <div class="glyphicon glyphicon-chevron-up"></div>
                        <div class="glyphicon glyphicon-chevron-down"></div>
                    </div>
                </th>
                <th>Variable value
                    <div class="sort-btn-wrap">
                        <div class="glyphicon glyphicon-chevron-up"></div>
                        <div class="glyphicon glyphicon-chevron-down"></div>
                    </div>
                </th>
                <th>Category
                    <div class="sort-btn-wrap">
                        <div class="glyphicon glyphicon-chevron-up"></div>
                        <div class="glyphicon glyphicon-chevron-down"></div>
                    </div>
                </th>
                <th>Data type
                    <div class="sort-btn-wrap">
                        <div class="glyphicon glyphicon-chevron-up"></div>
                        <div class="glyphicon glyphicon-chevron-down"></div>
                    </div>
                </th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            <tr ng-if="allVariables.length == 0" class="text-center empty-list-msg">
                <td colspan="4">There are no variables available in this Rule.</td>
            </tr>

            <tr class="action-list-item" ng-repeat="flowVariable in allVariables">
                <td>
                    <span ng-if="variableEditOn != 'SelectedVarible'+$index">{{flowVariable.Key}}</span>
                    <input ng-if="variableEditOn == 'SelectedVarible'+$index" type="text" name="ruleName" ng-model="selectedVaribleToEdit.Key" class="form-control"/>
                </td>
                <td>
                    <span ng-if="variableEditOn != 'SelectedVarible'+$index">{{flowVariable.Value}}</span>
                    <input ng-if="variableEditOn == 'SelectedVarible'+$index" type="text" name="ruleValue" ng-model="selectedVaribleToEdit.Value" class="form-control"/>
                </td>
                <td>
                    <span ng-if="variableEditOn != 'SelectedVarible'+$index">{{flowVariable.Category}}</span>
                    <select ng-if="variableEditOn == 'SelectedVarible'+$index" name="ruleCategory" class="form-control" ng-selected="selectedVaribleToEdit.Category" ng-model="selectedVaribleToEdit.Category">
                        <option value="Custom">Custom</option>
                        <option value="InArgument">InArgument</option>
                        <option value="OutArgument">OutArgument</option>
                    </select>
                </td>
                <td>
                    <span ng-if="variableEditOn != 'SelectedVarible'+$index">{{flowVariable.DataType}}</span>
                    <select ng-if="variableEditOn == 'SelectedVarible'+$index" name="ruleDataType" class="form-control" ng-model="selectedVaribleToEdit.DataType">
                        <option value="string">string</option>
                        <option value="int">int</option>
                        <option value="float">float</option>
                        <option value="boolean">boolean</option>
                    </select>
                </td>
                <td class="action-td">
                    <button ng-if="variableEditOn != 'SelectedVarible'+$index" type="button" class="action-btn" ng-click="editVariable(flowVariable, $index)"><span class="glyphicon glyphicon-pencil"></span></button>
                    <button ng-if="variableEditOn == 'SelectedVarible'+$index" type="button" class="action-btn" ng-click="saveVariable(selectedVaribleToEdit, $index)"><span class="glyphicon glyphicon-ok"></span></button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>

</div>

<div class="modal fade" tabindex="-1" role="dialog" id="newVariable">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title"><img src="core/images/rule-01.svg" class="modal-icon"> New variable</h4>
            </div>
            <div class="modal-body" style="max-height: 400px;min-height: 400px">
                <div class="rule-portion">
                    <form action="" name="vm.newRuleForm">
                        <div class="row">
                            <div class="col-md-3 form-group text-right">
                                <label>Key</label>
                            </div>
                            <div class="col-md-8 form-group">
                                <input required type="text" name="key" class="form-control" ng-model="Variable.Key" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3 form-group text-right">
                                <label>Value</label>
                            </div>
                            <div class="col-md-8 form-group">
                                <input required type="text" name="value" class="form-control" ng-model="Variable.Value" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3 form-group text-right">
                                <label>Category</label>
                            </div>
                            <div class="col-md-8 form-group">
                                <select name="value" class="form-control" ng-model="Variable.Category">
                                    <option value="Custom">Custom</option>
                                    <option value="InArgument">InArgument</option>
                                    <option value="OutArgument">OutArgument</option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3 form-group text-right">
                                <label>Data type</label>
                            </div>
                            <div class="col-md-8 form-group">
                                <select name="value" class="form-control" ng-model="Variable.DataType">
                                    <option value="string">string</option>
                                    <option value="int">int</option>
                                    <option value="float">float</option>
                                    <option value="boolean">boolean</option>
                                </select>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button class="clear-btn" ng-click="clearRule()">Clear</button>
                <button class="topbar-btn main-btn" ng-click="AddNewVariable($event)">Add</button>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>